openapi: 3.0.1
info:
  title: sinbad
  description: "This API documentation is for the sinbad project..."
  version: 1.0.0
tags: []
paths:
  /m/styles:
    get:
      summary: Map styles
      deprecated: false
      description: "Contains map style urls "
      operationId: listMapStyles
      tags: []
      parameters:
        - name: Accept-Language
          in: header
          description: ""
          required: false
          example: ""
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MapStylesResponse"
              examples:
                "1":
                  summary: Success
                  value:
                    ok: true
                    data:
                      - name: default
                        style_url: https://styles.hudhud.sa/default.json
                        thumbnail_url: https://static.hudhud.sa/default_thumb.webp
      security: []
  /t/rate:
    post:
      summary: Rate trip
      deprecated: false
      description: ""
      operationId: rateTrip
      tags: []
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TripRateInput"
      responses:
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SuccessResponse"
        "422":
          description: Parameter Error
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ValidationError"
      security: []
  /sv/nearby:
    get:
      summary: Get nearest Streetview image
      deprecated: false
      description: ""
      operationId: getNearestStreetViewImage
      tags: []
      parameters:
        - name: lat
          in: query
          description: ""
          required: true
          schema:
            type: number
            format: float64
        - name: lon
          in: query
          description: ""
          required: true
          schema:
            type: number
            format: float64
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NearestStreetViewImageResponse"
      security: []
  /p/typeahead:
    get:
      summary: POIs typeahead search
      deprecated: false
      description: >-
        Search as you type feature, this endpoint searches POIs that have
        similar prefix and sends back the auto-completed matching results.
      operationId: getTypeahead
      tags: []
      parameters:
        - name: query
          in: query
          description: Prefix to search for
          required: true
          schema:
            type: string
        - name: lat
          in: query
          description: ""
          required: false
          schema:
            type: number
            format: double
        - name: lon
          in: query
          description: ""
          required: false
          schema:
            type: number
            format: double
        - name: Accept-Language
          in: header
          description: ""
          required: false
          example: ""
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PoisTypeaheadResponse"
              examples:
                "1":
                  summary: Success
                  value:
                    ok: true
                    data:
                      - id: e3_Bn48BNW7Fxf0YbFTq
                        address: >-
                          Mohisini Mall, Ash Shaikh Muhammad Ibn Mani Street,
                          Al-Awali, Makkah Al Mukarramah, Makkah Region, 24251,
                          Saudi Arabia
                        name: Daran Engineering Consultancy
                        category: engineering - consulting
                        coordinates:
                          lat: 39.891111
                          lon: 21.3625
                        ios_category_icon:
                          name: restaurant
                          color: blue
                        android_category_icon:
                          name: restaurant
                          color: blue
      security: []
  /sv/{id}:
    get:
      summary: Get streetview image by id
      deprecated: false
      description: ""
      operationId: getStreetViewImage
      tags: []
      parameters:
        - name: id
          in: path
          description: ""
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StreetViewDetailResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema: &ref_0
                $ref: "#/components/schemas/ErrorResponse"
        "404":
          description: Record Not Found
          content:
            application/json:
              schema: *ref_0
      security: []
  /p/{id}:
    get:
      summary: POI details
      deprecated: false
      description: ""
      operationId: getPoi
      tags: []
      parameters:
        - name: id
          in: path
          description: ""
          required: true
          schema:
            type: string
        - name: lat
          in: query
          description: ""
          required: false
          schema:
            type: number
            format: float64
        - name: lon
          in: query
          description: ""
          required: false
          schema:
            type: number
            format: float64
        - name: Accept-Language
          in: header
          description: ""
          required: false
          example: ""
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PoiDetailsResponse"
              examples:
                "1":
                  summary: Success
                  value:
                    ok: true
                    data:
                      id: pWoPoI8B8Xvus8TK_yvV
                      address: >-
                        Mohisini Mall, Ash Shaikh Muhammad Ibn Mani Street,
                        Al-Awali, Makkah Al Mukarramah, Makkah Region, 24251,
                        Saudi Arabia
                      name: Daran Engineering Consultancy
                      category: engineering - consulting
                      coordinates:
                        lat: 39.891111
                        lon: 21.3625
                      phone_number: "0533132053"
                      website: www.darna.com.sa
                      rating: 4.5
                      ratings_count: 706
                      instagram: https://www.instagram.com/darna.22/
                      description: >-
                        who are weDarna Engineering Consulting is a destination
                        for those seeking excellence by providing comprehensive
                        engineering consulting services in innovative ways and
                        highly qualified and experienced consultants in the
                        fields of infrastructure, designing and implementing
                        electrical, civil and architectural plans, striving to
                        create sustainable development in the field of
                        consulting and design in a way that preserves the
                        nobility of the past and the ambition of the future for
                        an ambitious nation, a prosperous economy and a society.
                        Vital contributors to achieving the Kingdom of Saudi
                        Arabia’s Vision 2030.Our messageWe are committed to
                        providing advisory and administrative services in
                        accordance with the highest international quality
                        standards, maintaining optimal exploitation of available
                        resources with trained and qualified national
                        competencies to achieve the satisfaction of our
                        customers and partners.Our visionThe summit is our
                        homerate usOriginality, innovation, ambition, fluency,
                        agility, flexibility, qualityOur goalsDistinctive and
                        attractive architectural designs, comprehensive project
                        supervision using innovative and economical methods,
                        project management with high technologies, and providing
                        service that exceeds the expectations of our customers
                        and partners.
                      distance: 7634621.835636893
                      duration: 31.457
                      is_open: true
                      opening_hours:
                        saturday:
                          - start: 600
                            end: 720
                          - start: 1000
                            end: 1600
                        sunday:
                          - start: 600
                            end: 720
                        monday:
                          - start: 600
                            end: 720
                          - start: 1000
                            end: 1600
                        tuesday:
                          - start: 600
                            end: 720
                        wednesday:
                          - start: 600
                            end: 720
                          - start: 1000
                            end: 1600
                        thursday:
                          - start: 600
                            end: 720
                        friday:
                          - start: 600
                            end: 720
                          - start: 1000
                            end: 1600
                      media_urls:
                        - type: image
                          url: https://media.hudhud.sa/4578.webp
        "404":
          description: Record Not Found
          content:
            application/json:
              schema: *ref_0
              examples:
                "1":
                  summary: Success
                  value:
                    ok: false
                    message: the requested poi was not found
                    code: H04
      security: []
  /p:
    get:
      summary: List pois (pois search)
      deprecated: false
      description: ""
      operationId: listPois
      tags: []
      parameters:
        - name: page
          in: query
          description: ""
          required: false
          schema:
            type: integer
        - name: limit
          in: query
          description: ""
          required: false
          schema:
            type: integer
        - name: sort_by
          in: query
          description: ""
          required: false
          schema:
            type: string
            enum:
              - relevance
              - distance
            x-apidog:
              enumDescriptions:
                relevance: ""
                distance: ""
        - name: price_range
          in: query
          description: ""
          required: false
          schema:
            type: integer
            enum:
              - 1
              - 2
              - 3
              - 4
            x-apidog:
              enumDescriptions:
                "1": ""
                "2": ""
                "3": ""
                "4": ""
        - name: rating
          in: query
          description: ""
          required: false
          schema:
            type: number
            minimum: 0
            maximum: 5
            format: double
        - name: open_at
          in: query
          description: in UTC format
          required: false
          schema:
            type: string
            format: date-time
        - name: category
          in: query
          description: ""
          required: false
          schema:
            type: string
        - name: text
          in: query
          description: This should search the name,category and description ?
          required: false
          schema:
            type: string
        - name: next_page_token
          in: query
          description: When this is sent it takes precedence over page and limit.
          required: false
          schema:
            type: string
        - name: lat
          in: query
          description: ""
          required: false
          schema:
            type: number
            format: double
        - name: lon
          in: query
          description: ""
          required: false
          schema:
            type: number
            format: double
        - name: top_rated
          in: query
          description: ""
          required: false
          schema:
            type: boolean
        - name: Accept-Language
          in: header
          description: ""
          required: false
          example: ""
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PoisListResponse"
              examples:
                "1":
                  summary: Success
                  value:
                    ok: true
                    total: 100
                    next_page_token: somebase64encodedstring=
                    data:
                      - id: 4rtfdvb7rzw
                        name: Dunkin' donuts
                        rating: 2.1
                        ratings_count: 100
                        category: café
                        distance: 41.41
                        price_range: 2
                        accessibility: true
                        is_open: true
                        opening_hours:
                          saturday:
                            - opens_at: 600
                              closes_at: 720
                            - opens_at: 1000
                              closes_at: 1600
                          sunday:
                            - opens_at: 600
                              closes_at: 720
                          monday:
                            - opens_at: 600
                              closes_at: 720
                            - opens_at: 1000
                              closes_at: 1600
                          tuesday:
                            - opens_at: 600
                              closes_at: 720
                          wednesday:
                            - opens_at: 600
                              closes_at: 720
                            - opens_at: 1000
                              closes_at: 1600
                          thursday:
                            - opens_at: 600
                              closes_at: 720
                          friday:
                            - opens_at: 600
                              closes_at: 720
                            - opens_at: 1000
                              closes_at: 1600
                        phone_number: "+9664512"
                        coordinates:
                          lat: 39.891111
                          lon: 21.3625
                        website: https://hudhud.sa
                        instagram: ""
                        media_urls:
                          - type: picture
                            url: https://media.hudhud.sa/dsqdqs.jpeg
      security: []
  /sv/scene/{id}:
    get:
      summary: Get streetview scene by id
      deprecated: false
      description: ""
      operationId: getStreetViewScene
      tags: []
      parameters:
        - name: id
          in: path
          description: ""
          required: true
          schema:
            type: integer
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StreetViewSceneResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema: *ref_0
        "404":
          description: Record Not Found
          content:
            application/json:
              schema: *ref_0
      security: []
  /sv/scene/bbox:
    get:
      summary: Get streetview scene by bounding box
      deprecated: false
      description: ""
      operationId: getStreetViewSceneBBox
      tags: []
      parameters:
        - name: bbox
          in: query
          description: "the format is <min_lon>,<min_lat>,<max_lon>,<max_lat> for example 46.5424,24.5708,46.8534,24.8595"
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StreetViewSceneResponse"
        "400":
          description: Bad Request
          content:
            application/json:
              schema: *ref_0
        "404":
          description: Record Not Found
          content:
            application/json:
              schema: *ref_0
      security: []
  /p/trending:
    get:
      summary: Trending POIs
      deprecated: false
      description: ""
      operationId: listTrendingPois
      tags: []
      parameters:
        - name: page
          in: query
          description: ""
          required: false
          schema:
            type: integer
        - name: limit
          in: query
          description: ""
          required: false
          schema:
            type: integer
        - name: next_page_token
          in: query
          description: ""
          required: false
          schema:
            type: string
        - name: lat
          in: query
          description: ""
          required: false
          schema:
            type: number
            format: double
        - name: lon
          in: query
          description: ""
          required: false
          schema:
            type: number
            format: double
        - name: Accept-Language
          in: header
          description: ""
          required: false
          example: ""
          schema:
            type: string
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PoisTrendingResponse"
              examples:
                "1":
                  summary: Success
                  value:
                    ok: true
                    next_page_token: somebase64encodedstring=
                    data:
                      - id: somedidsq
                        coordinates:
                          lat: 39.891111
                          lon: 21.3625
                        rating: 5
                        ratings_count: 100
                        name: َAlBaik
                        category: restaurant
                        trending_image_url: https://media.hudhud.sa/dqdv.webp
      security: []
components:
  schemas:
    IosCategoryIcon:
      type: object
      properties:
        name:
          type: string
          description: name
        color:
          type: string
          enum:
            - systemGray
            - systemGray2
            - systemGray3
            - systemGray4
            - systemGray5
            - systemGray6
            - systemRed
            - systemGreen
            - systemBlue
            - systemOrange
            - systemYellow
            - systemPink
            - systemPurple
            - systemTeal
            - systemIndigo
            - systemBrown
            - systemMint
            - systemCyan
      required:
        - name
        - color
    AndroidCategoryIcon:
      type: object
      properties:
        name:
          type: string
        color:
          type: string
      required:
        - name
        - color
    StreetViewScene:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        base_url:
          type: string
        next_id:
          type: integer
          nullable: true
        next_name:
          type: string
          nullable: true
        previous_id:
          type: integer
          nullable: true
        previous_name:
          type: string
          nullable: true
        west_id:
          type: integer
          nullable: true
        west_name:
          type: string
          nullable: true
        east_id:
          type: integer
          nullable: true
        east_name:
          type: string
          nullable: true
        geom:
          type: string
        point:
          type: object
          properties:
            lat:
              type: number
              format: float64
            lon:
              type: number
              format: float64
          required:
            - lat
            - lon
        created_at:
          type: string
        updated_at:
          type: string
      required:
        - point
        - created_at
        - updated_at
        - id
        - name
    StreetViewSceneResponse:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/StreetViewScene"
        ok:
          type: boolean
      required:
        - ok
        - data
    MapStyleItem:
      type: object
      properties:
        name:
          type: string
        style_url:
          type: string
        thumbnail_url:
          type: string
        type:
          type: string
          enum:
            - map_type
            - map_details
      required:
        - name
        - style_url
        - thumbnail_url
        - type
    MapStylesResponse:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: "#/components/schemas/MapStyleItem"
        ok:
          type: boolean
      required:
        - data
        - ok
    StreetViewImageDetails:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        metadata:
          type: string
        geom:
          type: string
        point:
          type: object
          properties:
            lat:
              type: number
              format: float64
            lon:
              type: number
              format: float64
          required:
            - lat
            - lon
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        url:
          type: string
      required:
        - id
        - name
        - point
        - created_at
        - updated_at
        - url
    StreetViewDetailResponse:
      type: object
      properties:
        ok:
          type: boolean
        data:
          $ref: "#/components/schemas/StreetViewImageDetails"
      required:
        - ok
        - data
    NearestStreetViewImageResponse:
      type: object
      properties:
        ok:
          type: boolean
        data:
          $ref: "#/components/schemas/StreetViewImageItem"
      required:
        - ok
    StreetViewImageItem:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        metadata:
          type: string
        geom:
          type: string
        point:
          type: object
          properties:
            lat:
              type: number
              format: float64
            lon:
              type: number
              format: float64
          required:
            - lat
            - lon
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        distance:
          type: number
          format: float64
        url:
          type: string
      required:
        - id
        - name
        - point
        - created_at
        - updated_at
        - distance
        - url
    SuccessResponse:
      type: object
      properties:
        ok:
          type: boolean
        data:
          type: object
          properties: {}
          nullable: true
      required:
        - ok
    ValidationError:
      type: object
      properties:
        ok:
          type: boolean
        message:
          type: object
          properties: {}
        code:
          type: string
      required:
        - ok
        - message
        - code
    TripRateInput:
      type: object
      properties:
        id:
          type: integer
          description: ID
        rating:
          type: integer
          enum:
            - 0
            - 1
            - 2
            - 3
            - 4
        trip_info:
          type: object
          properties: {}
        timestamp:
          type: integer
          format: uint64
      required:
        - id
        - rating
        - trip_info
        - timestamp
    OpeningHoursItem:
      type: object
      properties:
        start:
          type: integer
        end:
          type: integer
      required:
        - start
        - end
    ErrorResponse:
      type: object
      properties:
        ok:
          type: boolean
        message:
          type: string
        code:
          type: string
      required:
        - ok
        - message
        - code
    TrendingItem:
      type: object
      properties:
        id:
          type: string
        coordinates:
          type: object
          properties:
            lat:
              type: number
              format: double
            lon:
              type: number
              format: double
          required:
            - lat
            - lon
        rating:
          type: number
          format: double
        ratings_count:
          type: integer
        name:
          type: string
        category:
          type: string
        trending_image_url:
          type: string
        distance:
          type: number
          format: double
          description: in meters
      required:
        - id
        - coordinates
        - name
        - category
        - trending_image_url
    PoisListItem:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        rating:
          type: number
          format: double
          nullable: true
        ratings_count:
          type: integer
          nullable: true
        category:
          type: string
        distance:
          type: number
          format: double
          nullable: true
        price_range:
          type: integer
          enum:
            - 1
            - 2
            - 3
            - 4
          nullable: true
        accessibility:
          type: boolean
          nullable: true
        is_open:
          type: boolean
          nullable: true
        opening_hours:
          type: object
          properties:
            saturday:
              type: array
              items: &ref_1
                $ref: "#/components/schemas/OpeningHoursItem"
              nullable: true
            sunday:
              type: array
              items: *ref_1
              nullable: true
            monday:
              type: array
              items: *ref_1
              nullable: true
            tuesday:
              type: array
              items: *ref_1
              nullable: true
            wednesday:
              type: array
              items: *ref_1
              nullable: true
            thursday:
              type: array
              items: *ref_1
              nullable: true
            friday:
              type: array
              items: *ref_1
              nullable: true
          nullable: true
        phone_number:
          type: string
          nullable: true
        coordinates:
          type: object
          properties:
            lat:
              type: number
              format: double
            lon:
              type: number
              format: double
          required:
            - lat
            - lon
        website:
          type: string
          nullable: true
        instagram:
          type: string
          nullable: true
        media_urls:
          type: array
          items:
            type: object
            properties:
              type:
                type: string
              url:
                type: string
            required:
              - type
              - url
          nullable: true
      required:
        - id
        - name
        - category
        - coordinates
    PoiDetails:
      type: object
      properties:
        id:
          type: string
        address:
          type: string
        name:
          type: string
        category:
          type: string
        coordinates:
          type: object
          properties:
            lat:
              type: number
              format: double
            lon:
              type: number
              format: double
          required:
            - lat
            - lon
        phone_number:
          type: string
          nullable: true
        website:
          type: string
          nullable: true
        rating:
          type: number
          format: double
          nullable: true
        ratings_count:
          type: integer
          nullable: true
        instagram:
          type: string
          nullable: true
        description:
          type: string
          nullable: true
        is_open:
          type: boolean
          nullable: true
        opening_hours:
          type: object
          properties:
            saturday:
              type: array
              items: *ref_1
              nullable: true
            sunday:
              type: array
              items: *ref_1
              nullable: true
            monday:
              type: array
              items: *ref_1
              nullable: true
            tuesday:
              type: array
              items: *ref_1
              nullable: true
            wednesday:
              type: array
              items: *ref_1
              nullable: true
            thursday:
              type: array
              items: *ref_1
              nullable: true
            friday:
              type: array
              items: *ref_1
              nullable: true
          nullable: true
        media_urls:
          type: array
          items:
            type: object
            properties:
              type:
                type: string
                enum:
                  - image
                  - video
              url:
                type: string
            required:
              - type
              - url
          nullable: true
        distance:
          type: number
          format: double
          description: distance in meters
          nullable: true
        duration:
          type: number
          format: double
          description: duration in seconds
          nullable: true
        android_category_icon: &ref_3
          $ref: "#/components/schemas/AndroidCategoryIcon"
        ios_category_icon: &ref_2
          $ref: "#/components/schemas/IosCategoryIcon"
      required:
        - id
        - address
        - name
        - category
        - coordinates
        - android_category_icon
        - ios_category_icon
    TypeaheadItem:
      type: object
      properties:
        type:
          type: string
          enum:
            - poi
            - category
        id:
          type: string
        address:
          type: string
        name:
          type: string
        category:
          type: string
        coordinates:
          type: object
          properties:
            lat:
              type: number
              format: double
            lon:
              type: number
              format: double
          required:
            - lat
            - lon
        ios_category_icon: *ref_2
        android_category_icon: *ref_3
      required:
        - ios_category_icon
        - android_category_icon
        - name
        - type
    PoisTrendingResponse:
      type: object
      properties:
        ok:
          type: boolean
          description: >-
            Can be ignored by clients, errors should be checked using the status
            code following the http standard
        data:
          type: array
          items:
            $ref: "#/components/schemas/TrendingItem"
      required:
        - ok
        - data
    PoisListResponse:
      type: object
      properties:
        ok:
          type: boolean
          description: >-
            Can be ignored by clients, errors should be checked using the status
            code following the http standard
        total:
          type: integer
        next_page_token:
          type: string
        data:
          type: array
          items:
            $ref: "#/components/schemas/PoisListItem"
      required:
        - ok
        - total
        - data
    PoiDetailsResponse:
      type: object
      properties:
        ok:
          type: boolean
          description: >-
            Can be ignored by clients, errors should be checked using the status
            code following the http standard
        data:
          $ref: "#/components/schemas/PoiDetails"
      required:
        - ok
        - data
    PoisTypeaheadResponse:
      type: object
      properties:
        ok:
          type: boolean
        data:
          type: array
          items:
            $ref: "#/components/schemas/TypeaheadItem"
      required:
        - ok
        - data
  securitySchemes: {}
servers:
  - url: https://api.dev.hudhud.sa
    description: Develop Env
